{"mappings":"iiBAAA,IA0BAA,EA1Ba,SAACC,EAAKC,GACjB,IACE,IAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,GAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,WAqB7CV,EAjBa,SAAAC,GACX,IACE,IAAME,EAAkBG,aAAaK,QAAQV,GAC7C,OAA2B,OAApBE,OAA2BS,EAAYR,KAAKS,MAAMV,GACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,WAY7CV,EARe,SAAAC,GACb,IACEK,aAAaQ,WAAWb,GACxB,MAAOO,GACPC,QAAQM,IAAI,sBAAuBP,EAAME,wBCnBvCM,EAAiC,sBACjCC,EAAgBC,SAASC,cAAc,kBACvCC,EAAW,IAEe,SAAAC,GAC9B,IAAMC,EAA2BtB,EAAqBgB,GAChDO,EAAeF,EAAKG,SAE1B,IAAK,IAAMvB,KAAOqB,EACZA,EAAyBG,eAAexB,KAC1CsB,EAAatB,GAAKC,MAAQoB,EAAyBrB,IAKzDyB,CAAwBT,GAoBxBA,EAAcU,iBAAiB,QAASC,EAAAC,EAAA,EAlBX,SAAAC,GAC3B,IAAQC,EAAWD,EAAXC,OAEFC,EAAqBD,EAAO7B,MAC5B+B,EAAoBF,EAAOG,KAEjCd,EAASa,GAAqBD,EAE9BhC,EAAqBgB,EAAgCI,KAUgB,MACvEH,EAAcU,iBAAiB,UARH,SAAAG,GAC1BA,EAAMK,iBAENnC,EAAuBgB,GACvBc,EAAMM,cAAcC","sources":["src/js/localstorage.js","src/js/03-feedback.js"],"sourcesContent":["const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nconst remove = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.log('Remove item error: ', error.message);\n  }\n};\n\nexport default {\n  save,\n  load,\n  remove,\n};\n","import localStorageApi from './localstorage';\nimport throttle from 'lodash.throttle';\n\nconst CONTACT_FORM_LOCAL_STORAGE_KEY = 'feedback-form-state';\nconst contactFormEl = document.querySelector('.feedback-form');\nconst formData = {};\n\nconst fillContactFormElements = form => {\n  const formDataFromLocalStorage = localStorageApi.load(CONTACT_FORM_LOCAL_STORAGE_KEY);\n  const formElements = form.elements;\n\n  for (const key in formDataFromLocalStorage) {\n    if (formDataFromLocalStorage.hasOwnProperty(key)) {\n      formElements[key].value = formDataFromLocalStorage[key];\n    }\n  }\n};\n\nfillContactFormElements(contactFormEl);\n\nconst onCotactFormElChange = event => {\n  const { target } = event;\n\n  const contactFormElValue = target.value;\n  const contactFormElName = target.name;\n\n  formData[contactFormElName] = contactFormElValue;\n\n  localStorageApi.save(CONTACT_FORM_LOCAL_STORAGE_KEY, formData);\n};\n\nconst onContactFormSubmit = event => {\n  event.preventDefault();\n\n  localStorageApi.remove(CONTACT_FORM_LOCAL_STORAGE_KEY);\n  event.currentTarget.reset();\n};\n\ncontactFormEl.addEventListener('input', throttle(onCotactFormElChange, 500));\ncontactFormEl.addEventListener('submit', onContactFormSubmit);\n"],"names":["$50116558f77987dc$export$2e2bcd8739ae039","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","getItem","undefined","parse","removeItem","log","$b00c40859be242c5$var$CONTACT_FORM_LOCAL_STORAGE_KEY","$b00c40859be242c5$var$contactFormEl","document","querySelector","$b00c40859be242c5$var$formData","form","formDataFromLocalStorage","formElements","elements","hasOwnProperty","$b00c40859be242c5$var$fillContactFormElements","addEventListener","$parcel$interopDefault","$dCfNN","event","target","contactFormElValue","contactFormElName","name","preventDefault","currentTarget","reset"],"version":3,"file":"03-feedback.b3a04e59.js.map"}